---
aliases: 
tags: 
title: 处理多个返回值
date: 2024-09-25 01:31
updated: 2024-09-25 01:49
---
# 通过参数传出
```cpp
 void func(int arg,std::string& str1,std::string& str2)
 {
 	//相关操作
 	str1 = "result1";
 	str2 = "result2";
 }
 
 int main(){
 	//获取返回结果
 	std::string res1,res2;
 	func(1,res1,res2);
 }
```
使用引用传入不会造成太多的性能损失，是一种简单高效的方式，但存在一个缺点，必须初始化返回结果变量并传入到函数中
在特殊情况下，不需要某些返回值，仍然使用引用传入则不太合适。将引用改为指针，并在输出返回值时选择性输出
```cpp
void func(int arg,std::string* str1,std::string* str2)
{
	//相关操作
	if(str1)
		*str1 = "result1";
	if(str2)
		*str2 = "result2";
}

int main(){
	//获取返回结果
	std::string res1,res2;
	func(1,&res1,&res2);
	//忽略第一个返回值
	func(2,nullptr,&res2);
}
```

# 通过数组传出
当返回值为多个相同类型值时，可以使用 vector 传出
```cpp
#include<iostream>  
  
std::string* func(int arg)  
{  
    //相关操作  
    std::string str1 = "result1";  
    std::string str2 = "result2";  
    return new std::string[]{str1,str2};  
}  
  
int main(){  
    //获取返回结果  
    std::string res1,res2;  
    std::string* res= func(1);  
}
```
